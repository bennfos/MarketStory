@model IEnumerable<BackendCapstone.Models.Event>
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager
@{var user = await UserManager.GetUserAsync(User);}

@{
    ViewData["Title"] = "Index";
}

<h1>Events</h1>
@if (user.UserTypeId != 3)
{
    <p>
        <a asp-action="Create">Create New</a>
    </p>
}
<div style="display: flex; flex-direction: row; justify-self: flex-end; flex-wrap: wrap;">
    @foreach (var item in Model)
    {

        <div style="margin: 30px; width:270px; background-color:#FAFAFA; border-radius: 4px;">
            <a style="color:#345A6D; " asp-controller="Events" asp-action="Details" asp-route-id="@item.Id">
                <div>
                    <img style="width:270px; height:250px;" asp-append-version="true" src="~/images/@item.ImgPath" />
                </div>
                <div>
                    <div style="margin: 10px; display: flex; flex-direction: column;">
                        <h4>
                            @item.Name
                        </h4>
                    </div>
                    <div style="margin: 10px;">
                        <h6>
                            @item.Description
                        </h6>
                        <p>
                            @item.Location
                        </p>
                        <p>
                            @item.DateTime
                        </p>
                    </div>
                </div>
            </a>
            @if (user.UserTypeId != 3)
            {
                <div style="display: flex; align-content:center; justify-content: center;">
                    <a asp-route-id=@item.Id asp-controller="Events" asp-action="Edit">Edit</a>&nbsp;|&nbsp;
                    <a asp-route-id=@item.Id asp-controller="Events" asp-action="Delete">Delete</a>
                </div>
            }
        </div>

    }
</div>
